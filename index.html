<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NewsNow â€“ Real-Time News Portal</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    body { background:#f5f5f5; }
    .news-card img { height:180px; object-fit:cover; }
  </style>
</head>

<body class="p-4">

  <h1 class="text-center mb-4">ðŸ“° NewsNow â€“ Real-Time News Portal</h1>

  <!-- Filters -->
  <div class="container mb-4">
    <div class="row g-3">

      <div class="col-md-4">
        <label class="form-label">Select Country</label>
        <select id="country" class="form-select">
          <option value="in">India</option>
          <option value="us">USA</option>
          <option value="gb">UK</option>
          <option value="au">Australia</option>
          <option value="ca">Canada</option>
        </select>
      </div>

      <div class="col-md-4">
        <label class="form-label">Select Category</label>
        <select id="category" class="form-select">
          <option value="general">General</option>
          <option value="technology">Technology</option>
          <option value="sports">Sports</option>
          <option value="business">Business</option>
          <option value="entertainment">Entertainment</option>
          <option value="science">Science</option>
          <option value="health">Health</option>
        </select>
      </div>

      <div class="col-md-4 d-flex align-items-end">
        <button class="btn btn-primary w-100" onclick="loadNews()">Fetch News</button>
      </div>

    </div>
  </div>

  <!-- News Container -->
  <div class="container">
    <div id="newsContainer" class="row g-4"></div>
  </div>

  <script>
    const API_KEY = "e799f2c9e34e453888def1980ab4c828";

    async function loadNews() {
      const country = document.getElementById("country").value;
      const category = document.getElementById("category").value;

      const url = `https://newsapi.org/v2/top-headlines?country=${country}&category=${category}&apiKey=${API_KEY}`;

      const response = await fetch(url);
      const data = await response.json();

      const container = document.getElementById("newsContainer");
      container.innerHTML = ""; 

      if (data.articles.length === 0) {
        container.innerHTML = "<h3 class='text-center text-muted'>No news found.</h3>";
        return;
      }

      data.articles.forEach(news => {
        const card = `
          <div class="col-md-4">
            <div class="card news-card shadow-sm">
              <img src="${news.urlToImage || 'https://via.placeholder.com/300'}" class="card-img-top">
              <div class="card-body">
                <h5 class="card-title">${news.title || 'No Title'}</h5>
                <p class="card-text">${news.description || 'No description available.'}</p>
                <a href="${news.url}" target="_blank" class="btn btn-dark">Read More</a>
              </div>
            </div>
          </div>
        `;
        container.innerHTML += card;
      });
    }

    // Auto refresh every 60 seconds
    setInterval(loadNews, 60000);

    // Load default news on startup
    loadNews();
  </script>

</body>
</html>
